{"ast":null,"code":"import _slicedToArray from \"/Users/yannafaith/Desktop/NuancityBlockstack/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/yannafaith/Desktop/NuancityBlockstack/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport NewUserPage from './views/NewUserPage.js';\nimport Nav from './components/Nav.jsx';\nimport { SinglePost } from './views/SinglePost.js';\nimport Landing from './views/Landing.js';\nimport Topics from './views/Topics.js';\nimport Dashboard from './views/Dashboard.js';\nimport TopicFeed from './views/TopicFeed.js';\nimport { Route } from \"react-router-dom\";\nimport { UserSession, AppConfig } from 'blockstack';\nimport './App.css';\nconst appConfig = new AppConfig(['store_write', 'publish_data']);\nconst userSession = new UserSession({\n  appConfig: appConfig\n});\n\nconst App = props => {\n  const _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        data = _useState2[0],\n        setData = _useState2[1];\n\n  const handleSignIn = e => {\n    e.preventDefault();\n    userSession.redirectToSignIn('http://localhost:3000/newUser');\n  };\n\n  const handleSignOut = e => {\n    e.preventDefault();\n    userSession.signUserOut(window.location.origin);\n  };\n\n  useEffect(() => {\n    if (userSession.isSignInPending() && !userSession.isUserSignedIn()) {\n      userSession.handlePendingSignIn().then(userData => {\n        setData(userData);\n      });\n    }\n\n    if (userSession.isUserSignedIn()) {\n      setData(userSession.loadUserData());\n    }\n  }, []);\n  return React.createElement(\"div\", {\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(Nav, {\n    session: userSession,\n    signIn: handleSignIn,\n    signOut: handleSignOut,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/newUser\",\n    component: () => React.createElement(NewUserPage, {\n      signIn: handleSignIn,\n      signOut: handleSignOut,\n      session: userSession,\n      data: data,\n      history: props.state,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }), React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: Landing,\n    session: userSession,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/topics\",\n    component: Topics,\n    session: userSession,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/topic\",\n    component: TopicFeed,\n    session: userSession,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/dashboard\",\n    component: Dashboard,\n    session: userSession,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }), React.createElement(Route, {\n    path: \"/post\",\n    component: SinglePost,\n    session: userSession,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }));\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/yannafaith/Desktop/NuancityBlockstack/src/App.js"],"names":["React","useState","useEffect","NewUserPage","Nav","SinglePost","Landing","Topics","Dashboard","TopicFeed","Route","UserSession","AppConfig","appConfig","userSession","App","props","data","setData","handleSignIn","e","preventDefault","redirectToSignIn","handleSignOut","signUserOut","window","location","origin","isSignInPending","isUserSignedIn","handlePendingSignIn","then","userData","loadUserData","state"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport NewUserPage from './views/NewUserPage.js';\nimport Nav from './components/Nav.jsx';\nimport { SinglePost } from './views/SinglePost.js';\nimport Landing from './views/Landing.js';\nimport Topics from './views/Topics.js';\nimport Dashboard from './views/Dashboard.js';\nimport TopicFeed from './views/TopicFeed.js';\nimport { Route } from \"react-router-dom\";\nimport { UserSession, AppConfig } from 'blockstack';\nimport './App.css';\n\nconst appConfig = new AppConfig( [ 'store_write', 'publish_data' ] );\nconst userSession = new UserSession( { appConfig: appConfig } );\n\nconst App =  ( props ) => {\n\n  const [ data, setData ] = useState( null );\n\n  const handleSignIn = ( e ) => {\n    e.preventDefault();\n    userSession.redirectToSignIn( 'http://localhost:3000/newUser' );\n  }\n\n  const handleSignOut = ( e ) => {\n    e.preventDefault();\n    userSession.signUserOut(window.location.origin);\n  }\n\n  useEffect( () => {\n    if ( userSession.isSignInPending() && !userSession.isUserSignedIn() ) {\n      userSession.handlePendingSignIn().then( ( userData ) => {\n            setData( userData );\n        });\n    }\n    if ( userSession.isUserSignedIn() ) {\n        setData( userSession.loadUserData() );\n    }\n  }, []);\n\n  return (\n    <div className = \"App\" >\n      <Nav \n        session = { userSession }\n        signIn = { handleSignIn } \n        signOut = { handleSignOut } \n      />\n      <Route \n        path = '/newUser' \n        component = { () => <NewUserPage \n          signIn = { handleSignIn } \n          signOut = { handleSignOut } \n          session = { userSession }\n          data = { data }\n          history = { props.state }\n          />\n        }\n      />\n      <Route \n        exact path='/' \n        component = { Landing } \n        session = { userSession }\n      />\n      <Route \n        path='/topics' \n        component = { Topics } \n        session = { userSession }\n      />\n      <Route \n        path='/topic' \n        component = { TopicFeed } \n        session = { userSession }\n      />\n      <Route \n        path='/dashboard' \n        component = { Dashboard } \n        session = { userSession }\n      />\n      <Route \n        path='/post' \n        component = { SinglePost } \n        session = { userSession }\n      />\n    </div>\n  );\n}\n\nexport default App;\n\n\n"]},"metadata":{},"sourceType":"module"}